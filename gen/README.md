# Generators

## Description

This directory contains the generator system for the framework. Generators all follow the same basic pattern. The input is usually a human written and human readable [YAML](http://www.yaml.org/) file which is first validated by a schema and then ingested into a python data structure called a model. These models are then output into many different autogenerated text files using the [Jinja](https://jinja.palletsprojects.com/) templating engine. Modifying existing generators or adding your own is intended to be a straight forward process. Read on for more details.

## Contents

The following is a description of what you can expect to find in the subdirectories of this directory.

* `generators/` - python "generator" classes are located here, which are responsible for performing the actual generation of textual output
* `models/` - python "model" files are located here, which are classes responsible for containing, organizing, and validating data from YAML files before outputting it as an autogenerated product
* `schemas/` - schemas written using the [pykwalify](http://pykwalify.readthedocs.io/) specification, for validating human written YAML files before model ingestion
* `templates/` - [Jinja](https://jinja.palletsprojects.com/) templates for generating different output file types
* `test/` - a set of regression tests for the generators to ensure their functionality before deployment on projects

## Adding a Generator

The generator system is designed to be readily extended. To add another generator, the following steps are suggested:

1. Read the *Contents* section above and look at the different files in each of the directories to familiarize yourself with what they are doing.
2. If you need a new input file for your generator, consider designing the input file along with a schema. You can then use `pykwalify` from the command line to validate your input file format. Put your schema in `schemas/`.
3. Input files are usually ingested into python data structures called models. If you need a new model to represent the data from your input file, add a new python class file to `models/`. Make sure to look at the `base.py` model, from which you will most likely want to derive.
4. For each output file that you would like to produce, add a Jinja template in the `templates/` directory, which will reference elements from the model you created in step 3.
5. For each template that you created add a generator class in the `generators/` directory, which ties together the YAML ingest, the model, and the templating output. This class must inherit from `base_classes.generator_base` in order to be integrated with the build system.
6. If you want your generator to be maintained into the future, it is a very good idea to write regression tests for your generator in the `test/` directory.


